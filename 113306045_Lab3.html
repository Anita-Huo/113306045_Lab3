<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Lab3_113306045 Guessing Game</title>
</head>
<body>
	<h1>Lab3_113306045 Guessing Game</h1>

	<div id="result"></div>

	<script>

		const answer = Math.floor(Math.random()*98)+2;
		let attempts = 7;
		let guess;
		let min = 1;
		let max = 100;

		while (attempts>0) {
			guess = window.prompt(`請輸入 ${min} ~ ${max} 之間的數字\n 還剩下${attempts}次機會\n`);

			if (guess == null || guess.trim() ==="" || isNaN(guess)) {
				alert("請輸入有效範圍內的數字！（不能選擇範圍的上下限）");
				continue;
			}

			guess = parseInt(guess, 10);

			if (guess<=min || guess>=max) {
				alert("請輸入有效範圍內的數字！（不能選擇範圍的上下限）");
				continue;
			}

			attempts--;

			if (guess === answer) {
				alert("恭喜你答對了！");
				document.getElementById("result").innerHTML=`<img src="correct.jpg" alt="Correct">`;
				break;
			} else if (guess<answer) {
				min = guess;
			} else {
				max = guess;
			}
		}

		if (attempts === 0 && guess !== answer) {
			alert(`錯誤！遊戲結束！正確答案是 ${answer}`);
			document.getElementById("result").innerHTML=`<img src="wrong.jpg" alt="Wrong">`;
		}

	</script>

</body>
</html>